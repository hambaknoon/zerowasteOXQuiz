<!DOCTYPE html>
<html lang="ko">
<head>
    <script type="module">
        // Firebase v9+ 모듈 SDK 임포트
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";
        // import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-analytics.js"; // 선택 사항

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB-gGpaopmgAp0JAhhj7ghgB-0wbGeTWlE",
            authDomain: "moupcycle-3ae84.firebaseapp.com",
            projectId: "moupcycle-3ae84",
            storageBucket: "moupcycle-3ae84.firebasestorage.app",
            messagingSenderId: "808583858427",
            appId: "1:808583858427:web:36f2d7a75ec45bf4bf885e",
            measurementId: "G-ZDBL0Y0RX4"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        // const analytics = getAnalytics(app); // analytics 사용 시 주석 해제

        // ⭐ 중요: Firestore 서비스 초기화 및 전역 변수 설정
        const db = getFirestore(app); 
        const RESULTS_COLLECTION = 'quiz_results';

        // 전역 범위에서 사용될 변수들을 window 객체에 할당 (quiz.js에서 참조하기 위해)
        window.db = db;
        window.RESULTS_COLLECTION = RESULTS_COLLECTION;
        
        // quiz.js 파일을 모듈로 임포트 (defer 속성 없이 모듈 스크립트 블록 내에서 실행 보장)
        import('./quiz.js');
    </script> 

</head>
<body class="bg-emerald-50 text-gray-800">
    </body>
</html>
