<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì œë¡œì›¨ì´ìŠ¤íŠ¸ OX í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Nanum+Gothic:wght@400;700;800&display=swap" rel="stylesheet">
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
        import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB-gGpaopmgAp0JAhhj7ghgB-0wbGeTWlE",
            authDomain: "moupcycle-3ae84.firebaseapp.com",
            projectId: "moupcycle-3ae84",
            storageBucket: "moupcycle-3ae84.firebasestorage.app",
            messagingSenderId: "808583858427",
            appId: "1:808583858427:web:36f2d7a75ec45bf4bf885e",
            measurementId: "G-ZDBL0Y0RX4"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);Â 
        const RESULTS_COLLECTION = 'quiz_results';

        // ----------------------------------------------------
        // ğŸ’¡ í†µí•©ëœ JavaScript ë¡œì§ (quiz.js ë‚´ìš©) ì‹œì‘
        // ----------------------------------------------------

        // --- 0. ì „ì—­ ìƒìˆ˜/í•¨ìˆ˜ ---
        const LOCAL_STORAGE_KEY = 'zero_waste_quiz_results';
        const uuid = (typeof crypto !== 'undefined' && crypto.randomUUID)Â 
            ? crypto.randomUUID.bind(crypto)Â 
            : () => Math.random().toString(36).substring(2, 9);Â 

        // ê¸°ì¡´ quizData = {...} ì •ì˜ ë¶€ë¶„ì„ ì œê±°í•©ë‹ˆë‹¤.
       
        const pledges = {
            elementary: "ë‚˜ëŠ” ì”ë°˜ ì—†ëŠ” ì ‘ì‹œë¥¼ ë§Œë“œëŠ” ê¼¬ë§ˆ ì§€êµ¬ ì§€í‚´ì´!",
            adolescent: "ë‚˜ëŠ” ì˜¤ëŠ˜ë¶€í„° ë¬¼ê±´ì„ ì¬ì‚¬ìš©í•˜ì—¬ ì“°ë ˆê¸°ë¥¼ ì¤„ì´ëŠ” ë©‹ì§„ í–‰ë™ê°€!",
            adult: "í•„ìš”í•˜ì§€ ì•Šì€ ê²ƒì€ NO! ì§€ê°‘ì„ ì—´ê¸° ì „ì— í•œ ë²ˆ ë” ìƒê°í•©ë‹ˆë‹¤."
        };
// 2. í€´ì¦ˆ ë°ì´í„° ì „ì—­ ë³€ìˆ˜ ì„ ì–¸ (ë°ì´í„°ë¥¼ ì €ì¥í•  ë³€ìˆ˜)
let quizData = null; // ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê¸° ì „ê¹Œì§€ null ìƒíƒœ ìœ ì§€
        
 /**
 * oxquizData.json íŒŒì¼ì„ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¶ˆëŸ¬ì™€ quizData ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.
 */
async function loadQuizData() {
    try {
        // ì§€ì •ëœ íŒŒì¼ëª… 'oxquizData.json' ì‚¬ìš©
        const response = await fetch('./oxquizData.json'); 
        if (!response.ok) {
            throw new Error(`HTTP ì˜¤ë¥˜: ${response.status}`);
        }
        quizData = await response.json(); // ë¡œë“œ ì„±ê³µ ì‹œ ì „ì—­ ë³€ìˆ˜ì— í• ë‹¹
        return true;
    } catch (error) {
        console.error("í€´ì¦ˆ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:", error);
        alert("í€´ì¦ˆ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. 'oxquizData.json' íŒŒì¼ì„ í™•ì¸í•´ ì£¼ì„¸ìš”.");
        return false;
    }
}

/**
 * í€´ì¦ˆ ì‹œì‘ ì‹œ ëª¨ë“  ì´ˆê¸°í™” ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì¸ ë¹„ë™ê¸° í•¨ìˆ˜
 */
async function initQuiz() {
    const dataLoaded = await loadQuizData(); // ë°ì´í„° ë¡œë”© ì‹œë„

    if (!dataLoaded) {
        // ë°ì´í„° ë¡œë”© ì‹¤íŒ¨ ì‹œ í€´ì¦ˆ ì§„í–‰ì„ ë§‰ê±°ë‚˜ ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
        return; 
    }
    
    // --- **ì´í›„ ê¸°ì¡´ í€´ì¦ˆ ì´ˆê¸°í™” ë¡œì§ì„ ì´ ìœ„ì¹˜ì— ë°°ì¹˜í•©ë‹ˆë‹¤** ---
    
    // ì˜ˆ: ëª¨ë“  ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì„¤ì •í•˜ê³ , ì´ˆê¸° í™”ë©´ì„ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œ
    // startQuizProcess(); // ê¸°ì¡´ì— í€´ì¦ˆë¥¼ ì‹œì‘í•˜ë˜ í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ ì´ ìœ„ì¹˜ì—ì„œ í˜¸ì¶œí•©ë‹ˆë‹¤.
    
    // (ê¸°ì¡´ ì½”ë“œì—ì„œ quizDataë¥¼ ì°¸ì¡°í•˜ë˜ ëª¨ë“  ë¶€ë¶„ì€ ì´ì œ ì „ì—­ ë³€ìˆ˜ quizDataë¥¼ ì‚¬ìš©í•˜ê²Œ ë©ë‹ˆë‹¤.)
    
    // ì˜ˆì‹œ: 
    if (ageSelect.value && setSelect.value) {
        selectAgeAndSet(); // í€´ì¦ˆ ì‹œì‘ í•¨ìˆ˜ í˜¸ì¶œ
    }
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ initQuiz í˜¸ì¶œ (ë¹„ë™ê¸°)
document.addEventListener('DOMContentLoaded', initQuiz);

        // í€´ì¦ˆ ê²°ê³¼ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
        function saveResultLocally(result) {
            let results = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY) || '[]');
            results.push(result);
            localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(results));
        }

        // í€´ì¦ˆ ê²°ê³¼ë¥¼ Firestoreì— ì €ì¥ (V9 ëª¨ë“ˆ ì‚¬ìš©)
        async function saveResult(result) {
            try {
                // V9 ëª¨ë“ˆì˜ addDocê³¼ collection í•¨ìˆ˜ë¥¼ ì§ì ‘ ì‚¬ìš©
                const docRef = await addDoc(collection(db, RESULTS_COLLECTION), result);
                console.log("Firestoreì— ì €ì¥ ì™„ë£Œ. ë¬¸ì„œ ID: ", docRef.id);
            } catch (error) {
                console.error("Firestore ì €ì¥ ì˜¤ë¥˜:", error);
                alert("í€´ì¦ˆ ê²°ê³¼ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. (ì„œë²„ ì˜¤ë¥˜)");
                saveResultLocally(result); // ì„œë²„ ì €ì¥ ì‹¤íŒ¨ ì‹œ ë¡œì»¬ì— ì €ì¥
            }
        }

        // --- 2. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²° ë° í•µì‹¬ ë¡œì§ ---
        document.addEventListener('DOMContentLoaded', () => {
            // 2-1. ëª¨ë“  ìƒíƒœ ë³€ìˆ˜ ë° DOM ìš”ì†Œ ë³€ìˆ˜
            let screens = {};
            let currentAgeGroup = '';
            let currentQuizSet = [];
            let currentQuestionIndex = 0;
            let score = 0;
            let selectedSetIndex = 0;
            let localParticipantId_internal = 'guest-' + uuid();
            let answerLog = [];Â 
            let correctLog = [];Â 

            // â­ DOM ìš”ì†Œ ì„ íƒ ë° ë³€ìˆ˜ í• ë‹¹
            const ageSelectButtons = document.querySelectorAll('.age-select-btn');
            const oBtn = document.getElementById('o-btn');
            const xBtn = document.getElementById('x-btn');
            const nextBtn = document.getElementById('next-btn');
            const restartBtn = document.getElementById('restart-btn');
            const backToStartBtn = document.getElementById('back-to-start-btn');

            screens = {
                ageSelection: document.getElementById('age-selection-screen'),
                quiz: document.getElementById('quiz-screen'),
                results: document.getElementById('results-screen')
            };

            const cardInner = document.getElementById('card-inner');
            const questionNumberText = document.getElementById('question-number-text');
            const questionText = document.getElementById('question-text');
            const explanationText = document.getElementById('explanation-text');
            const answerBtnsContainer = document.getElementById('answer-btns');
            const scoreText = document.getElementById('score-text');
            const resultEmoji = document.getElementById('result-emoji');
            const pledgeText = document.getElementById('pledge-text');
            const answerStatusText = document.getElementById('answer-status-text');
            const correctAnswerText = document.getElementById('correct-answer-text');
            const cardFront = cardInner.querySelector('.card-front');
            const cardEmojiFront = document.getElementById('card-emoji-front');
            const answerEmoji = document.getElementById('answer-emoji');
            const localIdDisplay = document.getElementById('local-id-display');
            const quizTitle = document.getElementById('quiz-title');

            // 2-2. í•µì‹¬ í•¨ìˆ˜ ì •ì˜ 
            
            // í™”ë©´ ì „í™˜ í•¨ìˆ˜
            function showScreen(name) {
                Object.keys(screens).forEach(key => {
                    screens[key].classList.add('hidden');
                });
                if (screens[name]) {
                    screens[name].classList.remove('hidden');
                }
            }
            
            // í€´ì¦ˆ ì‹œì‘ í•¨ìˆ˜
            function startGame(event) {
                currentAgeGroup = event.currentTarget.dataset.age;
                selectedSetIndex = Math.floor(Math.random() * quizData[currentAgeGroup].length);
                currentQuizSet = quizData[currentAgeGroup][selectedSetIndex];
                currentQuestionIndex = 0;
                score = 0;
                answerLog = [];
                correctLog = [];
                
                localParticipantId_internal = 'guest-' + uuid();
                
                quizTitle.textContent = currentAgeGroup === 'elementary' ? 'ê¼¬ë§ˆ ì˜ì›… í€´ì¦ˆ' : 
                                        currentAgeGroup === 'adolescent' ? 'ê·¸ë¦° ë¦¬ë” í€´ì¦ˆ' : 'ì œë¡œ ì±”í”¼ì–¸ í€´ì¦ˆ';

                loadQuestion();
                showScreen('quiz');
            }

            // ë¬¸ì œ ë¡œë“œ í•¨ìˆ˜
            function loadQuestion() {
                const question = currentQuizSet[currentQuestionIndex];
                
                // ì¹´ë“œ ìƒíƒœ ì´ˆê¸°í™”
                cardInner.classList.remove('is-flipped');
                cardFront.classList.remove('card-correct', 'card-incorrect');
                answerBtnsContainer.classList.remove('hidden');
                nextBtn.classList.add('hidden');

                // ë‚´ìš© ì—…ë°ì´íŠ¸
                questionNumberText.textContent = `ë¬¸ì œ ${currentQuestionIndex + 1} / ${currentQuizSet.length}`;
                cardEmojiFront.textContent = question.emoji;
                questionText.textContent = question.q;
                explanationText.textContent = question.exp;
                
                oBtn.disabled = false;
                xBtn.disabled = false;
            }

            // ì •ë‹µ í™•ì¸ í•¨ìˆ˜
            function checkAnswer(userAnswer) {
                const question = currentQuizSet[currentQuestionIndex];
                const isCorrect = (userAnswer === question.a);
                
                // ìƒíƒœ ì—…ë°ì´íŠ¸
                if (isCorrect) {
                    score++;
                    answerStatusText.textContent = "ì •ë‹µì…ë‹ˆë‹¤! ğŸ‰";
                    answerEmoji.textContent = "âœ…";
                    cardFront.classList.add('card-correct');
                } else {
                    answerStatusText.textContent = "ì•„ì‰½ì§€ë§Œ ì˜¤ë‹µì…ë‹ˆë‹¤. ğŸ˜­";
                    answerEmoji.textContent = "âŒ";
                    cardFront.classList.add('card-incorrect');
                }

                // ë¡œê·¸ ê¸°ë¡
                answerLog.push({ qIndex: currentQuestionIndex, q: question.q, u: userAnswer, a: question.a });
                correctLog.push(isCorrect);
                
                // ì¹´ë“œ ë’¤ì§‘ê¸°
                correctAnswerText.textContent = `ì •ë‹µ: ${question.a}`;
                cardInner.classList.add('is-flipped');
                
                // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
                oBtn.disabled = true;
                xBtn.disabled = true;
                answerBtnsContainer.classList.add('hidden');
                nextBtn.classList.remove('hidden');
            }

            // ë‹¤ìŒ ë¬¸ì œ/ê²°ê³¼ í™”ë©´ í•¨ìˆ˜
            function nextQuestion() {
                currentQuestionIndex++;
                if (currentQuestionIndex < currentQuizSet.length) {
                    loadQuestion();
                } else {
                    showResults();
                }
            }
            
            // ê²°ê³¼ í™”ë©´ í‘œì‹œ ë° ì €ì¥ í•¨ìˆ˜ 
            function showResults() {
                showScreen('results');
                const totalQuestions = currentQuizSet.length;
                
                // ì ìˆ˜ ë° ë‹¤ì§ ë¬¸êµ¬ ì„¤ì •
                scoreText.textContent = `${totalQuestions} ë¬¸ì œ ì¤‘ ${score} ê°œ ì •ë‹µ!`;
                pledgeText.textContent = pledges[currentAgeGroup];
                localIdDisplay.textContent = `ì°¸ê°€ ID: ${localParticipantId_internal}`;
                
                // ì´ëª¨ì§€ ì„¤ì •
                if (score === totalQuestions) {
                    resultEmoji.textContent = 'ğŸ‘‘';
                } else if (score >= totalQuestions * 0.7) {
                    resultEmoji.textContent = 'ğŸŒŸ';
                } else {
                    resultEmoji.textContent = 'ğŸ’¡';
                }
                
                const resultData = {
                    id: localParticipantId_internal,
                    ageGroup: currentAgeGroup,
                    score: score,
                    totalQuestions: totalQuestions,
                    quizSetIndex: selectedSetIndex,
                    timestamp: new Date().toISOString(),
                    answerLog: answerLog,Â 
                    correctLog: correctLogÂ 
                };
                saveResultLocally(resultData); // ë¡œì»¬ ì €ì¥ì†Œ
                
                // Firestore ì €ì¥ í•¨ìˆ˜ í˜¸ì¶œ
                saveResult(resultData);

                showScreen('results');
            }

            // 2-3. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
            
            // ì—°ë ¹ ì„ íƒ ë²„íŠ¼
            ageSelectButtons.forEach(button => {
                button.addEventListener('click', startGame);
            });

            // O/X ë²„íŠ¼
            oBtn.addEventListener('click', () => checkAnswer('O'));
            xBtn.addEventListener('click', () => checkAnswer('X'));

            // ë‹¤ìŒ ë¬¸ì œ ë²„íŠ¼
            nextBtn.addEventListener('click', nextQuestion);

            // ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼
            restartBtn.addEventListener('click', () => {
                showScreen('ageSelection');
            });

            // í€´ì¦ˆ ì¤‘ 'ì²˜ìŒìœ¼ë¡œ' ë²„íŠ¼
            backToStartBtn.addEventListener('click', () => {
                showScreen('ageSelection');
            });

            // ì´ˆê¸° í™”ë©´ ì„¤ì •
            showScreen('ageSelection');
        });
        
        // ----------------------------------------------------
        // ğŸ’¡ í†µí•©ëœ JavaScript ë¡œì§ (quiz.js ë‚´ìš©) ë
        // ----------------------------------------------------
    </script>
    
    <style>
        body {
            font-family: 'Inter', 'Nanum Gothic', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        /* í”Œë˜ì‹œì¹´ë“œ ë’¤ì§‘ê¸° ì• ë‹ˆë©”ì´ì…˜ ì»¨í…Œì´ë„ˆ */
.perspective {
perspective: 1000px;
}
.card-inner {
position: relative;
width: 100%;
height: 100%;
transition: transform 0.6s;
transform-style: preserve-3d;
}
.is-flipped {
transform: rotateY(180deg);
}
.card-front, .card-back {
position: absolute;
width: 100%;
height: 100%;
-webkit-backface-visibility: hidden;
backface-visibility: hidden;
border-radius: 0.75rem; 
border: 4px solid transparent; 
box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
display: flex;
flex-direction: column;
justify-content: space-between;
}
.card-back {
transform: rotateY(180deg);
background-image: linear-gradient(to top right, #e0f2fe, #f0f9ff);
}
.answer-btn {
transition: background-color 0.15s, transform 0.15s, box-shadow 0.15s;
}
.answer-btn:active {
transform: scale(0.98);
box-shadow: none;
}
.card-correct {
border-color: #22c55e !important;
}
.card-incorrect {
border-color: #ef4444 !important;
}
    </style>
</head>
<body class="bg-emerald-50 text-gray-800">
    <div class="min-h-screen w-full flex items-center justify-center p-4">

        <div id="age-selection-screen" class="w-full max-w-lg md:max-w-xl text-center">
            <div class="bg-white p-6 md:p-10 rounded-2xl shadow-2xl">
                <div class="text-6xl md:text-7xl mb-4">ğŸŒ</div>
                <h1 class="text-2xl md:text-3xl font-bold text-emerald-700 mb-3">í™˜ê²½ ì˜ì›… OX í€´ì¦ˆ</h1>
                <p class="text-gray-600 mb-8 text-lg">í€´ì¦ˆì— ì°¸ì—¬í•  ê·¸ë£¹ì„ ì„ íƒí•´ì£¼ì„¸ìš”!</p>
                <div class="grid grid-cols-1 gap-4">
                    <button data-age="elementary" class="age-select-btn bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-5 px-6 rounded-xl text-xl shadow-lg transition-transform transform hover:scale-105">
                        ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ì´ˆë“±í•™ìƒ (ê¼¬ë§ˆ ì˜ì›…)
                    </button>
                    <button data-age="adolescent" class="age-select-btn bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-5 px-6 rounded-xl text-xl shadow-lg transition-transform transform hover:scale-105">
                        ğŸ§‘â€ğŸ“ ì²­ì†Œë…„ (ê·¸ë¦° ë¦¬ë”)
                    </button>
                    <button data-age="adult" class="age-select-btn bg-gray-700 hover:bg-gray-800 text-white font-bold py-5 px-6 rounded-xl text-xl shadow-lg transition-transform transform hover:scale-105">
                        ğŸ‘©â€ğŸ’¼ ì„±ì¸ (ì œë¡œ ì±”í”¼ì–¸)
                    </button>
                </div>
                <p class="text-xs text-gray-400 mt-6">âš ï¸ ì˜¤í”„ë¼ì¸ ëª¨ë“œ: í€´ì¦ˆ ê²°ê³¼ëŠ” ì´ ê¸°ê¸°ì— ì„ì‹œ ì €ì¥ë©ë‹ˆë‹¤.</p>
            </div>
        </div>

        <div id="quiz-screen" class="w-full max-w-lg md:max-w-xl hidden">
            <div class="flex justify-between items-center mb-4 px-2">
                <div>
                    <h2 id="quiz-title" class="text-xl md:text-2xl font-bold text-emerald-700">í€´ì¦ˆ ì œëª©</h2>
                    <p id="question-number-text" class="text-gray-500 font-semibold">ë¬¸ì œ 1 / 10</p>
                </div>
                <button id="back-to-start-btn" class="text-sm text-gray-500 hover:text-gray-700 font-semibold py-2 px-3 rounded-lg bg-white/70 hover:bg-white transition-all shadow-md">
                    ì²˜ìŒìœ¼ë¡œ
                </button>
            </div>

            <div class="perspective h-[450px] md:h-[500px]">
                <div id="card-inner" class="card-inner h-full">
                    <div class="card-front bg-white p-6 md:p-8">
                        <div id="card-emoji-front" class="text-7xl md:text-8xl text-center pt-8 pb-4">
                        </div>
                        <p id="question-text" class="text-xl md:text-2xl font-bold text-center flex-grow flex items-center justify-center leading-relaxed">
                            ë¬¸ì œ í…ìŠ¤íŠ¸
                        </p>
                        <p class="text-center text-gray-400 text-sm font-medium">O / X ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”</p>
                    </div>

                    <div id="card-back" class="card-back p-6 md:p-8">
                        <div class="text-center">
                            <div id="answer-emoji" class="text-7xl md:text-8xl mb-4">
                            </div>
                            <h3 id="answer-status-text" class="text-3xl md:text-4xl font-extrabold mb-2">ì •ë‹µì…ë‹ˆë‹¤!</h3>
                            <h4 id="correct-answer-text" class="text-xl md:text-2xl font-bold text-gray-700 mb-4">ì •ë‹µ: O</h4>
                        </div>
                        <p id="explanation-text" class="text-base md:text-2xl font-bold text-gray-700 text-center leading-relaxed flex-grow flex items-center justify-center">
                            í•´ì„¤ í…ìŠ¤íŠ¸
                        </p>
                        <div class="text-center text-gray-500 text-sm font-medium pt-4">
                            'ë‹¤ìŒ ë¬¸ì œ' ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”
                        </div>
                    </div>
                </div>
            </div>

            <div id="controls-container" class="mt-6">
                <div id="answer-btns" class="grid grid-cols-2 gap-4">
                    <button id="o-btn" class="answer-btn bg-blue-500 hover:bg-blue-600 text-white font-bold py-6 rounded-xl text-4xl shadow-lg transition-transform transform hover:scale-105">O</button>
                    <button id="x-btn" class="answer-btn bg-red-500 hover:bg-red-600 text-white font-bold py-6 rounded-xl text-4xl shadow-lg transition-transform transform hover:scale-105">X</button>
                </div>
                <button id="next-btn" class="hidden w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-6 rounded-xl text-xl shadow-lg transition-transform transform hover:scale-105">
                    ë‹¤ìŒ ë¬¸ì œ
                </button>
            </div>
        </div>

        <div id="results-screen" class="w-full max-w-lg md:max-w-xl text-center hidden">
            <div class="bg-white p-6 md:p-10 rounded-2xl shadow-2xl">
                <div id="result-emoji" class="text-6xl md:text-7xl mb-4">ğŸ‰</div>
                <h1 class="text-2xl md:text-3xl font-bold text-emerald-700 mb-2">í€´ì¦ˆ ì™„ë£Œ!</h1>
                <p id="score-text" class="text-gray-800 mb-6 text-2xl font-semibold">10 ë¬¸ì œ ì¤‘ 8 ê°œ ì •ë‹µ!</p>
                <div class="bg-emerald-50 p-4 rounded-lg mb-8 border border-emerald-200">
                    <h3 class="font-bold text-emerald-800 mb-2 text-lg">ğŸ“ ë‚˜ì˜ ì œë¡œì›¨ì´ìŠ¤íŠ¸ ë‹¤ì§</h3>
                    <p id="pledge-text" class="text-gray-700 font-medium text-base leading-relaxed">
                        ë‹¤ì§ ë¬¸êµ¬
                    </p>
                </div>
                <p id="local-id-display" class="text-xs text-gray-400 mt-4 mb-4 break-words">
                </p>

                <div class="space-y-4">
                    <button id="restart-btn" class="w-full bg-yellow-500 hover:bg-yellow-550 text-gray font-bold py-5 px-6 rounded-xl text-xl shadow-lg transition-transform transform hover:scale-105">
                        ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
